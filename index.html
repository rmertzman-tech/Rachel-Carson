<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRF Synthesizer (Rachel Carson Demo)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .btn {
            transition: background-color 0.3s, transform 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn-primary {
            background-color: #4f46e5;
            color: white;
        }
        .btn-primary:hover {
            background-color: #4338ca;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 p-4 md:p-8">

    <div id="app" class="w-full max-w-7xl mx-auto">
        
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold">PRF Synthesizer (Rachel Carson Demo)</h1>
            <p class="text-gray-600 mt-2">This is a pre-populated example to demonstrate the potential of the PRF analysis.</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <div class="lg:col-span-1 space-y-6">
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">About This Demo</h2>
                    <p class="text-gray-700 mb-4">The text in these boxes has been pre-filled with reflections from the perspective of Rachel Carson, based on her writings and life's work.</p>
                    <p class="text-gray-700">Read through the reflections, and then use the button below to load this data into the main Synthesizer app for analysis.</p>
                    <button id="load-demo-btn" class="btn btn-primary w-full mt-4 py-3 rounded-lg font-semibold">Load this Demo into Synthesizer</button>
                </div>
                 <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Your Task</h2>
                    <p class="text-gray-700">After loading the data, open the main PRF Synthesizer. You can then use the "Guided Synthesis" feature to have a conversation with the AI tutor about this example, providing a model for your own analysis.</p>
                </div>
            </div>

            <div class="lg:col-span-2 space-y-6">
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Review of Pre-populated Data</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 h-[400px] overflow-y-auto p-2 bg-gray-50 rounded-lg">
                        <textarea id="beliefs-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="rules-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="ontology-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="authenticity-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="assembly_history-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="future_pull-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                    </div>
                </div>
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Sample Synthesis</h2>
                    <textarea id="synthesis-input" class="w-full h-80 p-3 border border-gray-300 rounded-lg" readonly></textarea>
                    
                    <div class="mt-6">
                        <h3 class="font-semibold mb-2 text-indigo-700 text-xl">Sample AI Analysis & Feedback</h3>
                        <div id="ai-analysis-display" class="w-full min-h-[100px] p-3 bg-gray-50 border rounded-lg whitespace-pre-wrap"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const displays = {
                beliefs: document.getElementById('beliefs-display'),
                rules: document.getElementById('rules-display'),
                ontology: document.getElementById('ontology-display'),
                authenticity: document.getElementById('authenticity-display'),
                assembly_history: document.getElementById('assembly_history-display'),
                future_pull: document.getElementById('future_pull-display'),
                synthesis: document.getElementById('synthesis-input'),
                ai: document.getElementById('ai-analysis-display'),
            };

            const demoData = {
                beliefs: `My foundational belief is that humanity is not separate from the natural world, but a part of a deeply interconnected web of life. I believe that every element of this web, from the smallest microbe to the largest whale, has a right to exist. I also hold the scientific belief that synthetic chemical pesticides, used carelessly and without understanding their long-term consequences, are profoundly disrupting this delicate balance, poisoning not only the environment but ourselves as well.`,
                rules: `A primary rule of my work was "rigorous scientific accuracy." Every claim I made in 'Silent Spring' was backed by meticulous research and multiple sources. Another rule was to "make the complex clear." I felt a moral obligation to translate the technical language of science into prose that any citizen could understand, because public awareness is the essential precursor to public action. Finally, I lived by the rule of "speaking truth to power," even when it meant facing immense pressure and attacks from the chemical industry and its allies.`,
                ontology: `My ontology is that of an ecologist. For me, what is most 'real' are not the isolated species or individual organisms, but the intricate relationships and systems that connect them. The "balance of nature" is not a romantic notion but the most fundamental reality. The chemical poisons being introduced into the environment were, in my view, an assault on this realityâ€”an attempt to impose a simplistic, human-centered order on a complex, interconnected system that we did not fully understand.`,
                authenticity: `Authenticity for me was the alignment of my identity as a scientist with my identity as a writer and a concerned citizen. It would have been inauthentic to possess the scientific knowledge of the dangers of DDT and remain silent. My authentic self was the one who could not separate the beauty of the natural world, which I so deeply loved and wrote about in my early books, from the scientific obligation to protect it. Facing public attacks while battling cancer was immensely difficult, but to have stayed silent would have been a betrayal of my deepest self.`,
                assembly_history: `My assembly history began with a deep, childhood love for the natural world, fostered by my mother on our family farm. This instilled in me a "sense of wonder." My rigorous scientific training in marine biology at Johns Hopkins gave me the intellectual tools to understand that world systematically. The key event that fused these two parts of myself was learning about the widespread, indiscriminate use of synthetic pesticides after World War II. It was a moment of moral and scientific clarity; I knew that my unique ability to combine scientific knowledge with poetic, accessible writing created a unique responsibility to speak out.`,
                future_pull: `My 'future pull' was the vision of a world where humanity lived in harmony with the natural environment, not as its conqueror, but as a responsible member of the biotic community. I envisioned a future where decisions about technology were guided by a precautionary principle and a deep respect for the intricate web of life. This vision created a present constraint, compelling me to endure personal attacks and spend the last years of my life writing 'Silent Spring,' because I believed that a change in public consciousness was the only path to that more sustainable future.`,
                synthesis: `My framework is built on the scientific and spiritual belief that all life is interconnected, and that humanity has a profound moral obligation to protect the delicate web that sustains us. This ecological ontology directly informs my primary rule: to communicate scientific truth with clarity and integrity, so that an informed public can act to protect itself and the natural world. My personal authenticity was found in the fusion of my identity as a scientist and my calling as a writer. My assembly history provided me with both a deep love for nature and the rigorous scientific training to defend it. The 'future pull' of a world where technology is guided by ecological wisdom, not short-term profit, was the moral imperative behind my final and most important work. My synthesis is this: knowledge creates responsibility. When science reveals a threat to the health of the planet and its inhabitants, it is the duty of those who understand that threat to speak out, not with passion alone, but with the irrefutable power of evidence, in a language that all can understand.`,
                ai: `Thank you for these eloquent and principled reflections. Your framework demonstrates a powerful and seamless integration of scientific rigor, poetic sensibility, and civic courage.\n\n**Key Themes:**\n1.  **The Ethics of Knowledge:** A central theme is your belief that scientific knowledge is not a neutral tool, but a source of profound moral responsibility. You argue that to know about a danger is to be obligated to act on that knowledge.\n2.  **Interconnection as a Fundamental Reality:** Your ecological worldview is the bedrock of your entire framework. You consistently analyze problems and propose solutions based on the interconnectedness of all living things, including humans.\n3.  **Communication as a Moral Act:** You see the clear and accessible communication of scientific ideas not as a secondary skill, but as a primary ethical duty. For you, public understanding is the essential catalyst for democratic action and change.\n\n**Potential Tensions:**\n- You held a deep belief in the slow, methodical, and evidence-based process of science. How did you reconcile this with the urgent, immediate, and often emotionally charged nature of the public and political battle you had to wage against powerful corporate interests?\n\n**A Question for Deeper Synthesis:**\n- Your work successfully shifted public consciousness and led to major environmental regulations, yet the fundamental conflict between economic interests and environmental health continues today. Based on your framework, what is the single most important "rule" or "belief" that modern society needs to adopt to truly resolve this ongoing tension?`
            };
            
            const DEMO_NAME = 'Rachel Carson';
            const loadDemoBtn = document.getElementById('load-demo-btn');
            const DATA_KEYS = {
                beliefs: 'prf_beliefs_data',
                rules: 'prf_rules_data',
                ontology: 'prf_ontology_data',
                authenticity: 'prf_authenticity_data',
                assembly_history: 'prf_assembly_history_data',
                future_pull: 'prf_future_pull_data'
            };
            const DEMO_NAME_KEY = 'prf_current_demo_name';

            function showMessage(message, type = 'success') {
                const toast = document.createElement('div');
                toast.textContent = message;
                let bgColor = type === 'success' ? 'bg-green-600' : 'bg-red-600';
                toast.className = `fixed top-5 left-1/2 -translate-x-1/2 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg transition-opacity duration-300`;
                document.body.appendChild(toast);
                setTimeout(() => toast.style.opacity = '0', 2700);
                setTimeout(() => toast.remove(), 3000);
            }
            
            // Populate the display boxes on page load
            Object.keys(displays).forEach(key => {
                if (demoData[key]) {
                    displays[key].value = demoData[key];
                    displays[key].textContent = demoData[key];
                }
            });

            loadDemoBtn.addEventListener('click', () => {
                try {
                    localStorage.setItem(DEMO_NAME_KEY, DEMO_NAME);
                    Object.keys(DATA_KEYS).forEach(key => {
                        localStorage.setItem(DATA_KEYS[key], demoData[key]);
                    });
                    showMessage('Demo data has been successfully saved. You can now load it in the main PRF Synthesizer app.');
                } catch (e) {
                    console.error("Error saving to localStorage:", e);
                    showMessage('Could not save demo data. Your browser may be in private mode or have storage disabled.', 'error');
                }
            });
        });
    </script>
</body>
</html>
