<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRF Synthesizer (Rachel Carson Demo)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .btn {
            transition: background-color 0.3s, transform 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn-primary {
            background-color: #4f46e5;
            color: white;
        }
        .btn-primary:hover {
            background-color: #4338ca;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 p-4 md:p-8">

    <div id="app" class="w-full max-w-7xl mx-auto">
        
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold">PRF Synthesizer (Rachel Carson Demo)</h1>
            <p class="text-gray-600 mt-2">This is a pre-populated example to demonstrate the potential of the PRF analysis.</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <div class="lg:col-span-1 space-y-6">
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">About This Demo</h2>
                    <p class="text-gray-700 mb-4">The text in these boxes has been pre-filled with reflections from the perspective of Rachel Carson, based on her writings and life's work.</p>
                    <p class="text-gray-700">Read through the reflections, and then use the button below to load this data into the main Synthesizer app for analysis.</p>
                    <button id="load-demo-btn" class="btn btn-primary w-full mt-4 py-3 rounded-lg font-semibold">Load this Demo into Synthesizer</button>
                </div>
                 <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Your Task</h2>
                    <p class="text-gray-700">After loading the data, open the main PRF Synthesizer. You can then use the "Guided Synthesis" feature to have a conversation with the AI tutor about this example, providing a model for your own analysis.</p>
                </div>
            </div>

            <div class="lg:col-span-2 space-y-6">
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Review of Pre-populated Data</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 h-[400px] overflow-y-auto p-2 bg-gray-50 rounded-lg">
                        <textarea id="beliefs-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="rules-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="ontology-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="authenticity-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="assembly_history-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="future_pull-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                    </div>
                </div>
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Sample Synthesis</h2>
                    <textarea id="synthesis-input" class="w-full h-80 p-3 border border-gray-300 rounded-lg" readonly></textarea>
                    
                    <div class="mt-6">
                        <h3 class="font-semibold mb-2 text-indigo-700 text-xl">Sample AI Analysis & Feedback</h3>
                        <div id="ai-analysis-display" class="w-full min-h-[100px] p-3 bg-gray-50 border rounded-lg whitespace-pre-wrap"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const displays = {
                beliefs: document.getElementById('beliefs-display'),
                rules: document.getElementById('rules-display'),
                ontology: document.getElementById('ontology-display'),
                authenticity: document.getElementById('authenticity-display'),
                assembly_history: document.getElementById('assembly_history-display'),
                future_pull: document.getElementById('future_pull-display'),
                synthesis: document.getElementById('synthesis-input'),
                ai: document.getElementById('ai-analysis-display'),
            };

            const demoData = {
                beliefs: `My core belief is that humanity is not separate from the natural world, but a part of it. We are subject to the same ecological laws as every other living creature. A second, related belief is in the "precautionary principle": that we should not introduce powerful new chemicals into the environment without fully understanding their long-term consequences. The burden of proof should be on the creators of these substances to prove they are safe, not on the public to prove they are harmful after the damage is done.`,
                rules: `A primary rule I followed was to "let the evidence speak for itself." My work was not based on emotion, but on meticulous scientific research. I made it a rule to present complex scientific truths in clear, accessible language so that any citizen could understand the stakes. Another rule was to never be silenced by powerful interests. When the chemical industry attacked my work, my rule was to stand by my research and trust in the public's ability to recognize the truth when presented with the facts.`,
                ontology: `My ontology viewed the world as a complex, interconnected web of life. For me, a forest, a stream, or a bird was not just a resource to be managed, but a part of a delicate, interdependent system. The "real" cost of a pesticide like DDT was not just dead insects, but a cascade of effects: poisoned birds, contaminated water, and sick children. This holistic view of reality was fundamental to my understanding. What was "real" was the connection between things.`,
                authenticity: `For me, authenticity meant aligning my private passion for nature with my public role as a scientist and writer. It would have been inauthentic to possess the scientific knowledge of the dangers of pesticides and remain silent. My authentic self was the one who spoke truth to power, even when it was difficult and came at great personal cost. The quiet, reserved person I was in private life had to find the courage to become a public advocate because my core values demanded it. Authenticity was the act of bridging that gap.`,
                assembly_history: `My assembly history began with a childhood spent exploring the woods and streams of Pennsylvania. My mother instilled in me a deep love and "sense of wonder" for the natural world. This was coupled with a rigorous scientific education, culminating in a master's degree in zoology. This fusion of a poet's heart and a scientist's mind was the critical event in my formation. My early career at the U.S. Fish and Wildlife Service gave me a firsthand view of how government and industry were failing to protect the environment, solidifying my resolve to act.`,
                future_pull: `My 'future pull' was the vision of a world where humanity lived in harmony with nature, not in a state of war against it. I envisioned a future where environmental literacy was a basic part of education, and where public policy was guided by a long-term ecological conscience. This vision of a sustainable future created a present constraint on my work, compelling me to write "Silent Spring" not just as a scientific report, but as a moral call to action to preserve that future for generations to come.`,
                synthesis: `My framework is built on the core belief that humanity is a vulnerable part of a vast, interconnected web of life. This is not a mystical idea, but a scientific reality. This ontological commitment directly informs my primary rule: to rigorously investigate and clearly communicate the unintended consequences of our actions on this web.\n\nMy personal authenticity was found in the act of bridging my private love for nature, forged in my childhood, with my public responsibility as a scientist. To know the truth about a danger like DDT and to remain silent would have been the ultimate betrayal of my identity. Therefore, my work was an act of alignment. The 'future pull' of a sustainable world created a moral imperative to challenge the powerful chemical industry, despite the personal attacks. My synthesis is this: true scientific integrity is not just about collecting facts, but about having the courage to defend those facts in the public square, especially when they speak to the preservation of life itself.`,
                ai: `Thank you for these powerful and coherent reflections. Your framework reveals a deep integration of scientific rigor and moral courage.\n\n**Key Themes:**\n1.  **Interconnection as a Core Principle:** A recurring theme is the idea of the world as an interconnected "web of life." This is not just a belief, but the central pillar of your ontology, which informs your scientific ethics and rules for action.\n2.  **Truth to Power:** You consistently frame your role as that of a truth-teller. Your authenticity is tied to the act of communicating difficult scientific truths to the public, even in the face of powerful opposition.\n3.  **Science as a Moral Calling:** Your assembly history shows a fusion of a deep personal love for nature with rigorous scientific training. This combination transformed your profession from a simple job into a moral vocation.\n\n**Potential Tensions:**\n- You hold a deep belief in the power of scientific evidence to persuade the public. How did you reconcile this with the reality that powerful corporate and political interests often work to actively distort or ignore that evidence for their own gain? Was evidence alone truly enough?\n\n**A Question for Deeper Synthesis:**\n- You state that humanity is a part of nature, not separate from it. If this is true, is environmental destruction not just a bad policy, but a form of societal self-harm? How might our ethical and legal systems change if we truly saw polluting a river as poisoning ourselves?`
            };

            const loadDemoBtn = document.getElementById('load-demo-btn');
            const DATA_KEYS = {
                beliefs: 'prf_beliefs_data',
                rules: 'prf_rules_data',
                ontology: 'prf_ontology_data',
                authenticity: 'prf_authenticity_data',
                assembly_history: 'prf_assembly_history_data',
                future_pull: 'prf_future_pull_data'
            };

            function showMessage(message, type = 'success') {
                const toast = document.createElement('div');
                toast.textContent = message;
                let bgColor = type === 'success' ? 'bg-green-600' : 'bg-red-600';
                toast.className = `fixed top-5 left-1/2 -translate-x-1/2 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg transition-opacity duration-300`;
                document.body.appendChild(toast);
                setTimeout(() => toast.style.opacity = '0', 2700);
                setTimeout(() => toast.remove(), 3000);
            }
            
            // Populate the display boxes on page load
            Object.keys(displays).forEach(key => {
                if (demoData[key]) {
                    displays[key].value = demoData[key];
                    displays[key].textContent = demoData[key];
                }
            });

            loadDemoBtn.addEventListener('click', () => {
                try {
                    Object.keys(DATA_KEYS).forEach(key => {
                        localStorage.setItem(DATA_KEYS[key], demoData[key]);
                    });
                    showMessage('Demo data has been successfully saved to your browser. You can now load it in the main PRF Synthesizer app.');
                } catch (e) {
                    console.error("Error saving to localStorage:", e);
                    showMessage('Could not save demo data. Your browser may be in private mode or have storage disabled.', 'error');
                }
            });
        });
    </script>
</body>
</html>
